{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>Coach Finder - ASKMO</title>
<link rel="stylesheet" href="{% static 'coach/style.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
    /* Tambahan style untuk konten di dalam kartu */
    .card {
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        justify-content: flex-start;
    }
    .card img {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 15px;
        border: 2px solid #333;
    }
    .card h3 {
        margin: 10px 0 5px;
        font-size: 1.25em;
    }
    .card p {
        margin: 2px 0;
        color: #aaa;
        font-size: 0.9em;
    }
    .card-cabor {
        font-weight: bold;
        color: #ddd;
    }
    .no-coach-message {
        color: #888;
        font-size: 1.2em;
        text-align: center;
        width: 100%;
    }
</style>
{% endblock meta %}

{% block content %}
{% include 'navbar.html' %}
    <div class="fixed top-9 right-9 z-50 hidden md:block">
        <a href="{% url 'main:show_profile' %}">
            <div class="flex items-center space-x-2 px-4 py-2 text-[#CFCFCF] text-sm font-medium">
            <span>{{ user.username }}</span>
            </div>
        </a>
    </div>
    <main>
        <h1 style="margin-top: 70px; font-size: 40px; margin-bottom: 15px;"><b>COACH</b></h1>
        
        <form class="search-container" method="GET" action="{% url 'coach:coach_list' %}">
            <div class="search-input">
                <i class="fas fa-search"></i>
                <input type="text" name="name" placeholder="Cari nama pelatih" value="{{ search_values.name }}">
            </div>
            <div class="search-input">
                <i class="fas fa-map-marker-alt"></i>
                <input type="text" name="location" placeholder="Pilih lokasi" value="{{ search_values.location }}">
            </div>
            <div class="search-input">
                <i class="fas fa-futbol"></i>
                <input type="text" name="sport_branch" placeholder="Pilih cabang olahraga" value="{{ search_values.sport_branch }}">
            </div>
            <button type="submit" class="search-button">Cari</button>
        </form>

        <div class="card-container">
            {% for coach in coaches %}
            <a href="{% url 'coach:coach_detail' coach.pk %}" class="card-link">
                <div class="card">
                    {% if coach.photo %}
                        <img src="{{ coach.photo.url }}" alt="Foto {{ coach.name }}">
                    {% else %}
                        <img src="https://via.placeholder.com/120" alt="Foto tidak tersedia">
                    {% endif %}
                    <h3>{{ coach.name }}</h3>
                    <p class="card-cabor">{{ coach.sport_branch }}</p>
                    <p><i class="fas fa-map-marker-alt" style="margin-right: 5px;"></i> {{ coach.location }}</p>
                    <p><i class="fas fa-phone" style="margin-right: 5px;"></i> {{ coach.contact }}</p>
                </div>
            </a>
            {% empty %}
                <p class="no-coach-message">Belum ada data coach yang ditambahkan.</p>
            {% endfor %}
        </div>
    </main>
{% endblock content %}